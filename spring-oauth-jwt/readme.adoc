
== spring oauth jwt

example for authentication with jwt and role mapping via TestRestTemplate

[source, bash]
----
docker-compose rm # remove old keycloak config
docker-compose up

# keycloak admin/admin
browser http://lcoalhost:8081/
# test/test
http://localhost:8081/realms/example/account

mvn spring-boot:run

browser http://lcoalhost:8080/
----

== keycloak

as openid connect implementation

== Terraform

to configure keycloak

* https://developer.hashicorp.com/terraform/intro[Intro]
* https://registry.terraform.io/providers/mrparkers/keycloak/latest/docs[keycloak provider]

[source,bash]
----
docker exec -it terraform sh

cd /opt/config
terraform init     # init workspace
terraform validate # validate config
terraform fmt      # reformat config to default layout

terraform plan --out savedPlan
terraform apply savedPlan

terraform console  # interactive
----

=== Debugging

[source,bash]
----
docker exec -it terraform sh
cd /opt/config
----